# セッション継続性ルール

## 問題
Claude Code を再起動するたびにコンテキストが失われ、何をしていたか忘れてしまう。

---

## 解決策: `docs/log/claude/` の活用

既存のログディレクトリを使い、セッション開始時に最新ログを必ず読む。

### CLAUDE.md に追加するルール

```markdown
## セッション開始時タスク（最優先）

### 作業状態の確認 - 絶対厳守

**コンテキストリフレッシュ直後、必ず最初に実行:**

\`\`\`bash
# 最新の作業ログを確認
ls -t docs/log/claude/*.md | head -3
\`\`\`

最新のログファイルを読んで:
1. 前回何をしていたか把握
2. 進捗状況を確認
3. ユーザーに「前回の続きから再開します: [要約]」と報告

**これを怠ると、同じ作業を繰り返すことになる。**

### 作業ログの記録 - 必須

以下のタイミングで `docs/log/claude/[yymmdd_hhmmss-作業内容.md]` を作成/更新:

- タスク開始時: 何をやるか
- マイルストーン達成時: 何が完了したか
- エラー発生時: 何が起きたか、試したこと
- 検証待ち時: 何を待っているか
- タスク完了時: 結果のサマリー

### ログの書き方

\`\`\`markdown
# [作業内容の要約]

## 状態
- 日時: YYYY-MM-DD HH:MM
- 状態: [進行中 / 検証待ち / 完了 / エラー]

## 現在のタスク
[タスクの説明]

## 進捗
- [x] 完了項目
- [ ] 未完了項目 ← 今ここ

## 直近の作業
- 何をしたか
- 次に何をするか

## ブロッカー / 検証待ち
- [あれば]
\`\`\`
```

---

## 変更ファイル

| ファイル | 変更内容 |
|---------|---------|
| `CLAUDE.md` | セッション開始時タスクにルール追加 |

---

## 検証方法

1. CLAUDE.md にルールを追加
2. Claude Code を再起動
3. 自動的に最新ログを読み取り、前回の作業を把握できることを確認
