# ChatGPT Fast CDP 実装の整理とデバッグ計画

## 📋 現状の整理（Phase 0）

### 実施済みの作業
- Fast CDP方式の実装（Extension Relay経由でCDP直接実行）
- `src/fast-cdp/` ディレクトリの追加
- `src/tools/chatgpt-web.ts` / `gemini-web.ts` の簡素化
- Extension Bridge の Relay Server実装

### 現在の問題
- ChatGPT: 入力欄にテキストが反映されず、送信できない
- 古い「接続テスト」チャットに固定される
- DOM操作、CDP Input系の各手法を試したが全て失敗

## 🎯 計画の方向性

### ステップ1: 現状のコミット
1. 現在の変更（Fast CDP実装）をコミット
2. 作業ログの作成

### ステップ2: プランモード再開
1. 改めてプランモードに入る
2. ChatGPT入力問題の根本原因調査計画を立てる
3. 以下を重点調査：
   - 古いチャットからの強制離脱が機能していない理由
   - ProseMirror入力要素の正確な特定
   - Shadow DOM配下の要素探索
   - CDP経由での確実なクリック+タイピング

### ステップ3: 実装とテスト
1. 調査結果に基づく修正実装
2. MCP経由での動作確認

---

## 📝 次のアクション

**今すぐ実行:**
1. プランモード終了
2. git commit
3. 作業ログ作成

**その後:**
- 改めてプランモードで詳細計画を立てる
